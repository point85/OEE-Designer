/*C16*/SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DROP TABLE PUBLIC.PUBLIC.COLLECTOR
/*C23*/SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
DROP TABLE PLANT_ENTITY IF EXISTS
CREATE CACHED TABLE PLANT_ENTITY (\u000d\u000a\u0009ENT_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NULL,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(256) NULL,\u000d\u000a\u0009PARENT_KEY bigint NULL,\u000d\u000a\u0009HIER_LEVEL nvarchar(16) NULL,\u000d\u000a\u0009RETENTION bigint NULL,\u000d\u000a    PRIMARY KEY (ENT_KEY)\u000d\u000a)
DROP TABLE REASON IF EXISTS
CREATE CACHED TABLE REASON (\u000d\u000a\u0009REASON_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NULL,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009PARENT_KEY bigint NULL,\u000d\u000a\u0009LOSS nvarchar(32) NULL,\u000d\u000a    PRIMARY KEY (REASON_KEY)\u000d\u000a)
DROP TABLE REASON IF EXISTS
DROP TABLE PLANT_ENTITY IF EXISTS
CREATE CACHED TABLE PLANT_ENTITY (\u000d\u000a\u0009ENT_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NULL,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(256) NULL,\u000d\u000a\u0009PARENT_KEY bigint NULL,\u000d\u000a\u0009HIER_LEVEL nvarchar(16) NULL,\u000d\u000a\u0009RETENTION bigint NULL,\u000d\u000a    PRIMARY KEY (ENT_KEY)\u000d\u000a)
DROP TABLE REASON IF EXISTS
CREATE CACHED TABLE REASON (\u000d\u000a\u0009REASON_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NULL,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009PARENT_KEY bigint NULL,\u000d\u000a\u0009LOSS nvarchar(32) NULL,\u000d\u000a    PRIMARY KEY (REASON_KEY)\u000d\u000a)
DROP TABLE MATERIAL IF EXISTS
CREATE CACHED TABLE MATERIAL (\u000d\u000a\u0009MAT_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NULL,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009CATEGORY nvarchar(32) NULL,\u000d\u000a    PRIMARY KEY (MAT_KEY)\u000d\u000a)
DROP TABLE EQUIPMENT_MATERIAL IF EXISTS
CREATE CACHED TABLE EQUIPMENT_MATERIAL (\u000d\u000a\u0009EM_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009MAT_KEY bigint NULL,\u000d\u000a\u0009EQ_KEY bigint NULL,\u000d\u000a\u0009OEE_TARGET numeric NULL,\u000d\u000a\u0009RUN_AMOUNT numeric NULL,\u000d\u000a\u0009RUN_UOM_KEY bigint NULL,\u000d\u000a\u0009REJECT_UOM_KEY bigint NULL,\u000d\u000a\u0009IS_DEFAULT smallint NOT NULL,\u000d\u000a    PRIMARY KEY (EM_KEY)\u000d\u000a)
DROP TABLE DATA_SOURCE IF EXISTS
CREATE CACHED TABLE DATA_SOURCE (\u000d\u000a\u0009SOURCE_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NOT NULL,\u000d\u000a\u0009NAME nvarchar(64) NOT NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009TYPE nvarchar(16) NOT NULL,\u000d\u000a\u0009HOST nvarchar(128) NULL,\u000d\u000a\u0009USER_NAME nvarchar(64) NULL,\u000d\u000a\u0009PASSWORD nvarchar(64) NULL,\u000d\u000a\u0009PORT int NULL,\u000d\u000a\u0009END_PATH nvarchar(128) NULL,\u000d\u000a\u0009SEC_POLICY nvarchar(64) NULL,\u000d\u000a\u0009MSG_MODE nvarchar(64) NULL,\u000d\u000a\u0009KEYSTORE nvarchar(128) NULL,\u000d\u000a\u0009KEYSTORE_PWD nvarchar(64) NULL,\u000d\u000a\u0009PRIMARY KEY (SOURCE_KEY)\u000d\u000a)
DROP TABLE EVENT_RESOLVER IF EXISTS
CREATE CACHED TABLE EVENT_RESOLVER (\u000d\u000a\u0009ER_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009ENT_KEY bigint NULL,\u000d\u000a\u0009SOURCE_ID nvarchar(128) NULL,\u000d\u000a\u0009SCRIPT nvarchar(4000) NULL,\u000d\u000a\u0009SOURCE_KEY bigint NULL,\u000d\u000a\u0009PERIOD int NULL,\u000d\u000a\u0009ER_TYPE nvarchar(16) NULL,\u000d\u000a\u0009DATA_TYPE nvarchar(32) NULL,\u000d\u000a\u0009COLLECT_KEY bigint NULL,\u000d\u000a\u0009PRIMARY KEY (ER_KEY)\u000d\u000a)
DROP TABLE UOM IF EXISTS
CREATE CACHED TABLE UOM (\u000d\u000a\u0009UOM_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NOT NULL,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009SYMBOL nvarchar(16) NOT NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(512) NULL,\u000d\u000a\u0009CATEGORY nvarchar(64) NULL,\u000d\u000a\u0009UNIT_TYPE nvarchar(32) NULL,\u000d\u000a\u0009UNIT nvarchar(32) NULL,\u000d\u000a\u0009CONV_FACTOR float NULL,\u000d\u000a\u0009CONV_UOM_KEY bigint NULL,\u000d\u000a\u0009CONV_OFFSET float NULL,\u000d\u000a\u0009BRIDGE_FACTOR float NULL,\u000d\u000a\u0009BRIDGE_UOM_KEY bigint NULL,\u000d\u000a\u0009BRIDGE_OFFSET float NULL,\u000d\u000a\u0009UOM1_KEY bigint NULL,\u000d\u000a\u0009EXP1 int NULL,\u000d\u000a\u0009UOM2_KEY bigint NULL,\u000d\u000a\u0009EXP2 int NULL,\u000d\u000a\u0009PRIMARY KEY (UOM_KEY)\u000d\u000a)
DROP TABLE WORK_SCHEDULE IF EXISTS
CREATE CACHED TABLE WORK_SCHEDULE (\u000d\u000a\u0009WS_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NULL,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(512) NULL,\u000d\u000a\u0009PRIMARY KEY (WS_KEY)\u000d\u000a)
DROP TABLE SHIFT IF EXISTS
CREATE CACHED TABLE SHIFT (\u000d\u000a\u0009SHIFT_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009START_TIME time(3) NULL,\u000d\u000a\u0009DURATION bigint NULL,\u000d\u000a\u0009WS_KEY bigint NULL,\u000d\u000a\u0009PRIMARY KEY (SHIFT_KEY)\u000d\u000a)
DROP TABLE TEAM IF EXISTS
CREATE CACHED TABLE TEAM (\u000d\u000a\u0009TEAM_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009WS_KEY bigint NULL,\u000d\u000a\u0009ROTATION_KEY bigint NULL,\u000d\u000a\u0009ROTATION_START date NULL,\u000d\u000a\u0009PRIMARY KEY (TEAM_KEY)\u000d\u000a)
DROP TABLE ROTATION IF EXISTS
CREATE CACHED TABLE ROTATION (\u000d\u000a\u0009ROTATION_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009WS_KEY bigint NULL,\u000d\u000a\u0009PRIMARY KEY (ROTATION_KEY)\u000d\u000a)
DROP TABLE ROTATION_SEGMENT IF EXISTS
CREATE CACHED TABLE ROTATION_SEGMENT (\u000d\u000a\u0009SEGMENT_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009ROTATION_KEY bigint NULL,\u000d\u000a\u0009SEQUENCE smallint NULL,\u000d\u000a\u0009SHIFT_KEY bigint NULL,\u000d\u000a\u0009DAYS_ON smallint NULL,\u000d\u000a\u0009DAYS_OFF smallint NULL,\u000d\u000a\u0009PRIMARY KEY (SEGMENT_KEY)\u000d\u000a)
DROP TABLE NON_WORKING_PERIOD IF EXISTS
CREATE CACHED TABLE NON_WORKING_PERIOD (\u000d\u000a\u0009PERIOD_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009START_DATE_TIME datetime(3) NULL,\u000d\u000a\u0009DURATION bigint NULL,\u000d\u000a\u0009WS_KEY bigint NULL,\u000d\u000a\u0009LOSS nvarchar(32) NULL,\u000d\u000a\u0009PRIMARY KEY (PERIOD_KEY)\u000d\u000a)
DROP TABLE BREAK_PERIOD IF EXISTS
CREATE CACHED TABLE BREAK_PERIOD (\u000d\u000a\u0009BREAK_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009START_TIME time(3) NULL,\u000d\u000a\u0009DURATION bigint NULL,\u000d\u000a\u0009SHIFT_KEY bigint NULL,\u000d\u000a\u0009LOSS nvarchar(32) NULL,\u000d\u000a\u0009PRIMARY KEY (BREAK_KEY)\u000d\u000a)
DROP TABLE COLLECTOR IF EXISTS
CREATE CACHED TABLE COLLECTOR (\u000d\u000a\u0009COLLECT_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009VERSION int NULL,\u000d\u000a\u0009NAME nvarchar(64) NULL,\u000d\u000a\u0009DESCRIPTION nvarchar(128) NULL,\u000d\u000a\u0009STATE nvarchar(16) NULL,\u000d\u000a\u0009HOST nvarchar(64) NULL,\u000d\u000a\u0009BROKER_HOST nvarchar(64) NULL,\u000d\u000a\u0009BROKER_PORT int NULL,\u000d\u000a\u0009BROKER_USER nvarchar(64) NULL,\u000d\u000a\u0009BROKER_PWD nvarchar(64) NULL,\u000d\u000a\u0009BROKER_TYPE nvarchar(16) NULL,\u000d\u000a\u0009SOURCE_KEY bigint NULL,\u000d\u000a\u0009PRIMARY KEY (COLLECT_KEY)\u000d\u000a)
DROP TABLE OEE_EVENT IF EXISTS
CREATE CACHED TABLE OEE_EVENT (\u000d\u000a\u0009EVENT_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009ENT_KEY bigint NOT NULL,\u000d\u000a\u0009START_TIME datetime(3) NOT NULL,\u000d\u000a\u0009START_TIME_OFFSET int NOT NULL,\u000d\u000a\u0009END_TIME datetime(3) NULL,\u000d\u000a\u0009END_TIME_OFFSET int NULL,\u000d\u000a\u0009SHIFT_KEY bigint NULL,\u000d\u000a\u0009TEAM_KEY bigint NULL,\u000d\u000a\u0009REASON_KEY bigint NULL,\u000d\u000a\u0009DURATION bigint NULL,\u000d\u000a\u0009EVENT_TYPE nvarchar(16) NOT NULL,\u000d\u000a\u0009AMOUNT numeric NULL,\u000d\u000a\u0009UOM_KEY bigint NULL,\u000d\u000a\u0009MATL_KEY bigint NULL,\u000d\u000a\u0009JOB nvarchar(64) NULL,\u000d\u000a\u0009IN_VALUE nvarchar(64) NULL,\u000d\u000a\u0009SOURCE_ID nvarchar(64) NULL,\u000d\u000a\u0009COLLECTOR nvarchar(64) NULL,\u000d\u000a\u0009PRIMARY KEY (EVENT_KEY)\u000d\u000a)
DROP TABLE ENTITY_SCHEDULE IF EXISTS
CREATE CACHED TABLE ENTITY_SCHEDULE (\u000d\u000a\u0009ES_KEY bigint GENERATED BY DEFAULT AS IDENTITY,\u000d\u000a\u0009ENT_KEY bigint NULL,\u000d\u000a\u0009WS_KEY bigint NULL,\u000d\u000a\u0009START_DATE_TIME datetime(3) NULL,\u000d\u000a\u0009END_DATE_TIME datetime(3) NULL,\u000d\u000a    PRIMARY KEY (ES_KEY)\u000d\u000a)\u000d\u000a\u000d\u000a\u000d\u000a\u000d\u000a
/*C24*/SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
CREATE UNIQUE INDEX IDX_ENT_NAME ON PLANT_ENTITY (NAME)
CREATE UNIQUE INDEX IDX_BREAK_NAME_SHIFT ON BREAK_PERIOD (NAME, SHIFT_KEY)
/*C22*/DROP INDEX PUBLIC.PUBLIC.IDX_BREAK_NAME_SHIFT
DROP INDEX PUBLIC.PUBLIC.IDX_ENT_NAME
/*C24*/CREATE UNIQUE INDEX IDX_ENT_NAME ON PLANT_ENTITY (NAME)
CREATE UNIQUE INDEX IDX_REASON_NAME ON REASON (NAME)
CREATE UNIQUE INDEX IDX_MATL_NAME ON MATERIAL (NAME)
CREATE UNIQUE INDEX IDX_SOURCE_NAME ON DATA_SOURCE (NAME)
CREATE UNIQUE INDEX IDX_ER_SOURCE_ID ON EVENT_RESOLVER (SOURCE_ID)
CREATE UNIQUE INDEX IDX_UOM_SYMBOL ON UOM (SYMBOL)
CREATE UNIQUE INDEX IDX_SCHED_NAME ON WORK_SCHEDULE (NAME)
CREATE UNIQUE INDEX IDX_SHIFT_NAME_WS ON SHIFT (NAME, WS_KEY)
CREATE UNIQUE INDEX IDX_BREAK_NAME_SHIFT ON BREAK_PERIOD (NAME, SHIFT_KEY)
CREATE UNIQUE INDEX IDX_TEAM_NAME_WS ON TEAM (NAME, WS_KEY)
CREATE UNIQUE INDEX IDX_COLLECT_NAME ON COLLECTOR (NAME)
